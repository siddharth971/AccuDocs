<div
  class="h-full bg-white border-l border-slate-200 overflow-hidden w-96 flex flex-col dark:bg-slate-900 dark:border-slate-800">
  <div class="p-4 border-b border-slate-100 flex items-center justify-between dark:border-slate-800">
    <span class="text-xs font-bold text-slate-400 uppercase">Preview</span>
    <span class="text-xs text-slate-500 truncate max-w-[200px]" *ngIf="selectedFile">{{ selectedFile.name }}</span>
  </div>

  <div class="flex-1 overflow-auto bg-slate-50 dark:bg-slate-950 flex items-center justify-center p-4">
    <ng-container [ngSwitch]="getPreviewType()">
      <div *ngSwitchCase="'image'" class="h-full w-full flex items-center justify-center">
        <!-- In a real app this would be a secure URL -->
        <img [src]="selectedFile?.thumbnailUrl || 'assets/images/placeholder.png'"
          class="max-w-full max-h-full object-contain shadow-sm" alt="Preview">
      </div>

      <div *ngSwitchCase="'pdf'" class="h-full w-full">
        <!-- Iframe for PDF -->
        <iframe [src]="getSafeUrl(selectedFile?.thumbnailUrl)" class="w-full h-full border-0"
          title="PDF Preview"></iframe>
      </div>

      <div *ngSwitchCase="'text'"
        class="h-full w-full p-4 bg-white text-xs font-mono dark:bg-slate-900 dark:text-slate-300">
        <pre class="whitespace-pre-wrap">Sample Text Content Preview...
This would normally be fetched from the API
and displayed here as a read-only preview.</pre>
      </div>

      <div *ngSwitchDefault class="flex flex-col items-center justify-center text-slate-400">
        <mat-icon style="font-size: 64px; width: 64px; height: 64px;">visibility_off</mat-icon>
        <p class="mt-4 text-sm">No preview available for this file type</p>
      </div>
    </ng-container>
  </div>
</div>